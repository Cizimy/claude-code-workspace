# 🎯 Claude Code Commands

> **目的**: TDD × YAGNI の実践を支援するカスタムスラッシュコマンド集

## 📋 利用可能なコマンド

### 🚀 /project:new-feature
**用途**: 新機能開発のTDD 10ステップワークフロー

#### 使用方法
```bash
# GitHub Issue番号を指定して新機能開発を開始
/project:new-feature 123

# 複数のIssue番号も対応
/project:new-feature 123,124,125
```

#### ワークフロー概要
1. **要件理解・計画** - Issue分析と設計提案
2. **テストファースト** - 失敗するテスト作成・確認
3. **最小実装** - テストを通す最小限のコード
4. **リファクタリング・品質確保** - コード改善と未使用コード除去
5. **文書化・コミット** - PR作成と文書化

### 🐛 /project:fix-bug
**用途**: バグ修正のテスト駆動ワークフロー

#### 使用方法
```bash
# バグレポートIssue番号を指定してバグ修正開始
/project:fix-bug 456

# 緊急バグ修正の場合
/project:fix-bug 789
```

#### ワークフロー概要
1. **バグ理解・再現** - 原因特定と再現テスト作成
2. **バグ検証** - テスト実行と根本原因特定
3. **最小修正** - 最小限の変更で問題解決
4. **品質保証** - 回帰テスト追加とリファクタリング
5. **検証・文書化** - 影響確認とPR作成

## 🎨 コマンド設計原則

### 1. テスト駆動の強制
- **Red → Green → Refactor** サイクルの厳守
- 実装前のテスト作成を必須化
- 失敗確認の重要性を強調

### 2. YAGNI原則の遵守
- 必要最小限の実装に限定
- 「将来必要かも」の機能追加を禁止
- シンプルな解決策の優先

### 3. 品質ガードとの連携
- Hooksによる自動チェックと協調
- テストカバレッジの維持
- 未使用コードの自動除去

## 🔧 カスタマイズ

### プロジェクト固有コマンド
```bash
# プロジェクト固有のコマンド作成例
cp project:new-feature project:danbooru-feature

# 内容をプロジェクトに合わせて調整
# - 特定のテストフレームワーク
# - プロジェクト固有の品質基準
# - カスタムビルドプロセス
```

### 言語固有の調整
```bash
# Python プロジェクト用
project:python-feature    # pytest + ruff 対応

# JavaScript プロジェクト用  
project:js-feature        # Jest + ESLint 対応

# VBA プロジェクト用
project:vba-feature       # 手動テスト + 構造チェック
```

## 📊 使用統計・効果測定

### 追跡メトリクス
- **コマンド使用頻度**: 開発者の採用率
- **TDD準拠率**: Red→Green→Refactorサイクルの完了率
- **品質向上**: バグ減少・カバレッジ向上
- **開発効率**: 機能実装時間の短縮

### 成功指標
```yaml
targets:
  tdd_compliance: 90%      # TDD手順の遵守率
  test_coverage: 80%       # 最小テストカバレッジ
  bug_reduction: 50%       # バグ発生率削減
  delivery_speed: 30%      # 機能開発速度向上
```

## 🚀 実践例

### 新機能開発の例
```bash
# 1. Issueベースで開発開始
/project:new-feature 123

# Claude Codeの応答例:
# "Issue #123を分析します。ユーザー認証機能の追加ですね。
#  まず要件を整理し、テストから開始します..."

# 2. TDD 10ステップに従って進行
# - 要件分析
# - テスト作成
# - 最小実装
# - リファクタリング
# - PR作成
```

### バグ修正の例
```bash
# 1. バグ報告Issueで修正開始
/project:fix-bug 456

# Claude Codeの応答例:
# "Issue #456のバグを修正します。ログイン失敗の問題ですね。
#  まずバグを再現するテストを作成します..."

# 2. バグ修正フローに従って進行
# - バグ再現
# - 根本原因特定
# - 最小修正
# - 回帰テスト追加
```

## 🔄 コマンド進化・改善

### フィードバック収集
- **開発者の声**: 使用感・改善提案
- **品質メトリクス**: 実際の効果測定
- **プロセス分析**: ボトルネック特定

### 定期更新
- **月次レビュー**: 使用状況・問題点の確認
- **四半期改善**: ワークフローの最適化
- **年次見直し**: 全体的なアプローチの再検討

### バージョン管理
```bash
# コマンドの変更履歴
git log -- .claude/commands/

# 変更時のADR記録
governance/adr/NNN-command-update.md
```

## 🎯 ベストプラクティス

### 1. 一貫した使用
- **全ての新機能**: /project:new-feature を使用
- **全てのバグ修正**: /project:fix-bug を使用
- **例外なし**: 緊急時でも基本フロー遵守

### 2. チーム全体での採用
- **オンボーディング**: 新メンバーへの教育
- **レビュー文化**: コマンド使用の確認
- **継続改善**: チーム全体でのフィードバック

### 3. 測定と改善
- **定量評価**: メトリクスによる効果測定
- **定性評価**: 開発者体験の向上
- **継続最適化**: データに基づく改善

## 🔗 関連ドキュメント

- **[Hooks](../hooks/)** - 自動品質ガードとの連携
- **[Templates](../docs/02_templates/)** - コマンドに使用されるテンプレート
- **[Operations](../docs/03_operations/)** - 日常運用でのコマンド活用
- **[Governance](../governance/)** - コマンド変更の意思決定記録

---

これらのコマンドにより、Claude Code を使った開発でも確実にTDD・YAGNI原則を維持し、一貫した高品質な開発フローを実現できます。

*最終更新: 2025-07-10*