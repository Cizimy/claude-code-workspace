# è¤‡é›‘æ€§åˆ¶å¾¡ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

> **ç›®çš„**: Claude Code Workspace ã«ãŠã‘ã‚‹è¤‡é›‘æ€§åˆ¶å¾¡ã®åŒ…æ‹¬çš„ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆã¨å®Ÿè£…æˆ¦ç•¥

## ğŸ“‹ ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ¦‚è¦

### ä½œæˆæ—¥
2025-07-14

### å¯¾è±¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ
Claude Code å®Ÿè·µé–‹ç™ºç’°å¢ƒ (AIé§†å‹•é–‹ç™ºãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹)

### å‰ææ¡ä»¶
- TDD (ãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™º) Ã— YAGNI Ã— Hooks ã«ã‚ˆã‚‹å“è³ªç®¡ç†ã‚·ã‚¹ãƒ†ãƒ 
- Issueé§†å‹•é–‹ç™ºã«ã‚ˆã‚‹ã‚¿ã‚¹ã‚¯ç®¡ç†
- ADR-002 ç¶™ç¶šæ”¹å–„ã‚·ã‚¹ãƒ†ãƒ ã®å°å…¥

---

## ğŸ¯ 1. è¤‡é›‘æ€§åˆ¶å¾¡ã®æˆ¦ç•¥çš„ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ

### 1.1 AIé§†å‹•é–‹ç™ºã«ãŠã‘ã‚‹è¤‡é›‘æ€§ã®èª²é¡Œ

#### å¾“æ¥ã®é–‹ç™ºã«ãŠã‘ã‚‹è¤‡é›‘æ€§
```
é–‹ç™ºè€… â†’ è¨­è¨ˆ â†’ å®Ÿè£… â†’ ãƒ†ã‚¹ãƒˆ â†’ ãƒ¬ãƒ“ãƒ¥ãƒ¼
  â†‘                                â†“
  â””â”€â”€â”€â”€â”€â”€â”€â”€ çµŒé¨“ã«åŸºã¥ãåˆ¤æ–­ â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### AIé§†å‹•é–‹ç™ºã«ãŠã‘ã‚‹è¤‡é›‘æ€§ã®å¢—å¤§è¦å› 
- **ç”Ÿæˆé€Ÿåº¦ vs å“è³ª**: AIã®é«˜é€Ÿã‚³ãƒ¼ãƒ‰ç”Ÿæˆã«ã‚ˆã‚‹å“è³ªåˆ¶å¾¡ã®å›°é›£
- **éå‰°å®Ÿè£…å‚¾å‘**: å¿…è¦ä»¥ä¸Šã®æ©Ÿèƒ½å®Ÿè£… (YAGNIåŸå‰‡é•å)
- **ãƒ†ã‚¹ãƒˆè»½è¦–**: å®Ÿè£…å„ªå…ˆã«ã‚ˆã‚‹ãƒ†ã‚¹ãƒˆå¾Œå›ã—
- **ä¸€è²«æ€§æ¬ å¦‚**: AIã«ã‚ˆã‚‹è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³ã®ä¸çµ±ä¸€

### 1.2 è¤‡é›‘æ€§åˆ¶å¾¡ã®åŸºæœ¬åŸå‰‡

#### Core Principles
1. **Test-Driven Development (TDD)**
   - å®Ÿè£…å‰ã®ãƒ†ã‚¹ãƒˆä½œæˆã‚’å¼·åˆ¶
   - Red-Green-Refactor ã‚µã‚¤ã‚¯ãƒ«ã®è‡ªå‹•åŒ–
   
2. **You Aren't Gonna Need It (YAGNI)**
   - ç¾åœ¨å¿…è¦ãªæ©Ÿèƒ½ã®ã¿å®Ÿè£…
   - æœªä½¿ç”¨ã‚³ãƒ¼ãƒ‰ã®è‡ªå‹•æ¤œå‡ºãƒ»å‰Šé™¤
   
3. **Automated Quality Gates**
   - Hook ã«ã‚ˆã‚‹æ±ºå®šè«–çš„å“è³ªåˆ¶å¾¡
   - å“è³ªåŸºæº–æœªé”æ™‚ã®è‡ªå‹•ãƒ–ãƒ­ãƒƒã‚¯

#### Strategic Approach
```
è¤‡é›‘æ€§åˆ¶å¾¡ = äºˆé˜²çš„åˆ¶ç´„ + è‡ªå‹•æ¤œå‡º + ç¶™ç¶šæ”¹å–„
```

---

## ğŸ—ï¸ 2. ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®3å±¤æ§‹é€ 

### 2.1 ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å…¨ä½“å›³

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Workspace Layer                         â”‚
â”‚       è¤‡é›‘æ€§åˆ¶å¾¡ã®çµ±ä¸€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ãƒ»æ¨ªæ–­æ©Ÿèƒ½ãƒ»å“è³ªåŸºæº–       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    Governance Layer                         â”‚
â”‚          æ„æ€æ±ºå®šè¨˜éŒ²ãƒ»å“è³ªæ¨™æº–ãƒ»æ”¹å–„ãƒ—ãƒ­ã‚»ã‚¹ç®¡ç†               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                     Project Layer                           â”‚
â”‚           å€‹åˆ¥å®Ÿè£…ãƒ»ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰åˆ¶ç´„ãƒ»å…·ä½“çš„å“è³ªæ¸¬å®š        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 ç†è«–å±¤: è¨­è¨ˆåŸå‰‡çµ±åˆ

#### TDD Ã— YAGNI Ã— Hooks ã®çµ±åˆãƒ¢ãƒ‡ãƒ«
```mermaid
graph TD
    A[Issue/è¦ä»¶] --> B[ãƒ†ã‚¹ãƒˆä½œæˆ]
    B --> C[TDD Guard Check]
    C -->|PASS| D[æœ€å°å®Ÿè£…]
    C -->|FAIL| B
    D --> E[Unused Code Check]
    E -->|PASS| F[ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°]
    E -->|FAIL| G[ä¸è¦ã‚³ãƒ¼ãƒ‰å‰Šé™¤]
    G --> F
    F --> H[Coverage Check]
    H -->|PASS| I[å®Œäº†]
    H -->|FAIL| J[è¿½åŠ ãƒ†ã‚¹ãƒˆ]
    J --> F
```

#### è¤‡é›‘æ€§åˆ¶å¾¡ã®ç†è«–çš„åŸºç›¤
| åŸå‰‡ | åˆ¶å¾¡ãƒ¡ã‚«ãƒ‹ã‚ºãƒ  | æ¸¬å®šæŒ‡æ¨™ | åˆ¶ç´„æ¡ä»¶ |
|------|---------------|----------|----------|
| **TDD** | Pre-tool Hook (tdd-guard.sh) | ãƒ†ã‚¹ãƒˆå¤‰æ›´ã®æœ‰ç„¡ | å®Ÿè£…å‰ãƒ†ã‚¹ãƒˆå¿…é ˆ |
| **YAGNI** | Post-tool Hook (unused-detector.sh) | æœªä½¿ç”¨ã‚³ãƒ¼ãƒ‰æ•° | ã‚¼ãƒ­ tolerance |
| **Quality** | Stop Hook (coverage-check.sh) | ã‚«ãƒãƒ¬ãƒƒã‚¸ç‡ | 60%+ å¿…é ˆ |

### 2.3 åˆ¶å¾¡å±¤: Hook ã‚·ã‚¹ãƒ†ãƒ è©³ç´°

#### Hook å®Ÿè¡Œãƒ•ãƒ­ãƒ¼
```
Claude Tool Request
        â†“
    PreToolUse Hook
    (TDD Guard)
        â†“
    Tool Execution
        â†“
    PostToolUse Hook
    (Unused Detector)
        â†“
    Session Complete
        â†“
    Stop Hook
    (Coverage Check)
```

#### å…·ä½“çš„åˆ¶å¾¡ãƒ¡ã‚«ãƒ‹ã‚ºãƒ 

##### 1. TDD Guard (Pre-tool Hook)
**ãƒ•ã‚¡ã‚¤ãƒ«**: `.claude/hooks/pre-tool/tdd-guard.sh`

**åˆ¶å¾¡ãƒ­ã‚¸ãƒƒã‚¯**:
```bash
# å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«ç·¨é›†ã®å‰ææ¡ä»¶ãƒã‚§ãƒƒã‚¯
if is_implementation_file && !has_recent_test_changes; then
    block_execution()
    show_tdd_guidance()
    exit 2
fi
```

**é™¤å¤–æ¡ä»¶**:
- ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«è‡ªä½“ (`*test*.py`, `*spec*.js` ç­‰)
- è¨­å®šãƒ•ã‚¡ã‚¤ãƒ« (`.md`, `.json`, `.yml` ç­‰)
- ã‚¬ãƒãƒŠãƒ³ã‚¹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª (`governance/`)
- VBAãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ (è¨€èªåˆ¶ç´„ã«ã‚ˆã‚‹ç·©å’Œ)

**åˆ¶å¾¡ä¾‹**:
```
âŒ BLOCKED: src/core/analyzer.py (ãƒ†ã‚¹ãƒˆå¤‰æ›´ãªã—)
âœ… ALLOWED: tests/test_analyzer.py (ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«)
âœ… ALLOWED: src/core/analyzer.py (æœ€è¿‘ãƒ†ã‚¹ãƒˆå¤‰æ›´ã‚ã‚Š)
```

##### 2. Unused Code Detector (Post-tool Hook)
**ãƒ•ã‚¡ã‚¤ãƒ«**: `.claude/hooks/post-tool/unused-detector.sh`

**æ¤œå‡ºãƒ„ãƒ¼ãƒ«**:
- **Python**: vulture (ã¾ãŸã¯åŸºæœ¬è§£æ)
- **JavaScript/TypeScript**: ESLint (no-unused-vars)
- **VBA**: é™¤å¤– (è¨€èªåˆ¶ç´„)

**æ¤œå‡ºä¾‹**:
```python
# æ¤œå‡ºå¯¾è±¡ (æœªä½¿ç”¨é–¢æ•°)
def helper_function():  # ã©ã“ã‹ã‚‰ã‚‚å‘¼ã°ã‚Œã¦ã„ãªã„
    return "unused"

def main():
    print("Hello")  # helper_function æœªä½¿ç”¨
```

**å¯¾å¿œè¦æ±‚**:
1. æœªä½¿ç”¨é–¢æ•°ãƒ»å¤‰æ•°ã®å‰Šé™¤ (YAGNIåŸå‰‡)
2. ä½¿ç”¨äºˆå®šãŒã‚ã‚‹å ´åˆã¯ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã§ä½¿ç”¨ä¾‹
3. æ„å›³çš„ã«æ®‹ã™å ´åˆã¯ã‚³ãƒ¡ãƒ³ãƒˆã§ç†ç”±æ˜è¨˜

##### 3. Coverage Check (Stop Hook)
**ãƒ•ã‚¡ã‚¤ãƒ«**: `.claude/hooks/stop/coverage-check.sh`

**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆ¥åŸºæº–**:
```yaml
danbooru_advanced_wildcard:
  coverage_threshold: 80%
  test_framework: pytest
  command: "pytest --cov=src --cov-report=term-missing"

pdi:
  coverage_threshold: 70%  # VBAç·©å’Œ
  validation: "æ§‹é€ ãƒã‚§ãƒƒã‚¯"
  
workspace:
  validation: "å¿…é ˆãƒ•ã‚¡ã‚¤ãƒ«å­˜åœ¨ç¢ºèª"
  required_files:
    - ".claude/settings.json"
    - "governance/adr/000-claude-code-adoption.md"
    - ".claude/hooks/*/coverage-check.sh"
```

**ãƒ–ãƒ­ãƒƒã‚¯ä¾‹**:
```
ğŸ“Š ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒã‚§ãƒƒã‚¯: 78% < 80% åŸºæº–æœªé”
è§£æ±ºæ–¹æ³•:
1. ä¸è¶³ã—ã¦ã„ã‚‹ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’è¿½åŠ 
2. pytest --cov=src --cov-report=term-missing ã§ã‚«ãƒãƒ¬ãƒƒã‚¸ã‚’ç¢ºèª
3. æœªãƒ†ã‚¹ãƒˆéƒ¨åˆ†ã«å¯¾å¿œã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’å®Ÿè£…
```

### 2.4 å®Ÿè£…å±¤: çµ±åˆã‚·ã‚¹ãƒ†ãƒ 

#### ã‚³ãƒãƒ³ãƒ‰ã‚·ã‚¹ãƒ†ãƒ çµ±åˆ
```
/project:new-feature [Issue#]
    â†“
Issueåˆ†æãƒ»è¨­è¨ˆææ¡ˆ
    â†“
ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ (TDD Guardåˆ¶å¾¡)
    â†“
æœ€å°å®Ÿè£… (Unused Detectorç›£è¦–)
    â†“
ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ãƒ»å“è³ªç¢ºä¿
    â†“
PRä½œæˆ (Coverage Checké€šé)
```

#### æ¨©é™åˆ¶å¾¡ã‚·ã‚¹ãƒ†ãƒ 
**ãƒ•ã‚¡ã‚¤ãƒ«**: `.claude/settings.json`

**è¨±å¯æ“ä½œ**:
```json
{
  "allow": [
    "Read(*)", "Write(*)", "Edit(*)", "MultiEdit(*)",
    "Bash(git:*)", "Bash(pytest:*)", "Bash(npm:*)",
    "WebFetch(domain:github.com)", "WebFetch(domain:docs.anthropic.com)"
  ]
}
```

**æ‹’å¦æ“ä½œ**:
```json
{
  "deny": [
    "Bash(rm:*)", "Bash(mv:*)", "Bash(cp:*)",
    "Bash(sudo:*)", "WebSearch(*)"
  ]
}
```

---

## âš™ï¸ 3. è¤‡é›‘æ€§åˆ¶å¾¡ã®å®Ÿè£…è©³ç´°

### 3.1 å‹•çš„åˆ¶å¾¡ãƒ¡ã‚«ãƒ‹ã‚ºãƒ 

#### GitçŠ¶æ…‹ã«åŸºã¥ãåˆ¶å¾¡
```bash
# TDD Guard ã§ã® Gitå¤‰æ›´ç¢ºèª
git diff --cached --name-only | grep -E "(test|spec)"  # Staged
git diff --name-only | grep -E "(test|spec)"          # Unstaged

# æœ€è¿‘30åˆ†ä»¥å†…ã®ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«å¤‰æ›´
find . -name "*test*" -type f -mmin -30
```

#### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ–‡è„ˆèªè­˜
```bash
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆè‡ªå‹•ç‰¹å®š
get_project_root() {
    if [[ "$file" =~ danbooru_advanced_wildcard ]]; then
        echo "$WORKSPACE_ROOT/danbouru_advanced_wildcard"
    elif [[ "$file" =~ pdi ]]; then
        echo "$WORKSPACE_ROOT/pdi"
    else
        echo "$WORKSPACE_ROOT"
    fi
}
```

### 3.2 å“è³ªãƒ¡ãƒˆãƒªã‚¯ã‚¹çµ±åˆ

#### æ¸¬å®šå¯èƒ½ãªè¤‡é›‘æ€§æŒ‡æ¨™
| ãƒ¡ãƒˆãƒªã‚¯ã‚¹ | åŸºæº–å€¤ | æ¸¬å®šãƒ„ãƒ¼ãƒ« | Hookçµ±åˆ |
|-----------|-------|-----------|----------|
| **ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸** | 60%+ | pytest-cov | Stop Hook |
| **å¾ªç’°çš„è¤‡é›‘åº¦** | 10ä»¥ä¸‹ | radon cc | (å°†æ¥å®Ÿè£…) |
| **æœªä½¿ç”¨ã‚³ãƒ¼ãƒ‰** | 0å€‹ | vulture | Post-tool Hook |
| **PRã‚µã‚¤ã‚º** | 500è¡Œä»¥ä¸‹ | git diff --stat | (å°†æ¥å®Ÿè£…) |

#### ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å“è³ªç›£è¦–
```bash
# Coverage Check ã§ã®å‹•çš„è©•ä¾¡
coverage_percentage=$(pytest --cov=src | grep "TOTAL" | awk '{print $4}')

if (( coverage_percentage < MIN_COVERAGE_THRESHOLD )); then
    block_completion()
    require_additional_tests()
fi
```

### 3.3 ä¾‹å¤–å‡¦ç†ã¨ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

#### æ®µéšçš„åˆ¶ç´„ç·©å’Œ
1. **VBAãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**: è¨€èªåˆ¶ç´„ã«ã‚ˆã‚‹TDDè¦æ±‚ç·©å’Œ
2. **ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**: æœªä½¿ç”¨ã‚³ãƒ¼ãƒ‰æ¤œå‡ºã®ç·©å’Œ (ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°è¨±å¯)
3. **è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«**: TDDè¦æ±‚ã®é™¤å¤–
4. **ã‚¬ãƒãƒŠãƒ³ã‚¹æ–‡æ›¸**: å“è³ªãƒã‚§ãƒƒã‚¯é™¤å¤–

#### ã‚¨ãƒ©ãƒ¼æ™‚ã®å…·ä½“çš„ã‚¬ã‚¤ãƒ€ãƒ³ã‚¹
```bash
# TDD Guard ãƒ–ãƒ­ãƒƒã‚¯æ™‚ã®ã‚¬ã‚¤ãƒ€ãƒ³ã‚¹
echo "ğŸš« TDD Guard: ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®å¤‰æ›´ãªã—ã«å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚"
echo "ä»¥ä¸‹ã®ã„ãšã‚Œã‹ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„:"
echo "1. å¯¾å¿œã™ã‚‹ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’å…ˆã«ä½œæˆãƒ»æ›´æ–°ã™ã‚‹"
echo "2. ãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™ºï¼ˆTDDï¼‰ã®æ‰‹é †ã«å¾“ã†:"
echo "   - Red: å¤±æ•—ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’æ›¸ã"
echo "   - Green: ãƒ†ã‚¹ãƒˆã‚’é€šã™æœ€å°é™ã®å®Ÿè£…"
echo "   - Refactor: ã‚³ãƒ¼ãƒ‰ã‚’æ”¹å–„"
```

---

## ğŸ”„ 4. ç¶™ç¶šæ”¹å–„ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### 4.1 Phase 6: ç¶™ç¶šæ”¹å–„ã‚·ã‚¹ãƒ†ãƒ 

#### ADR-002 ã«ã‚ˆã‚‹æ”¹å–„ã‚µã‚¤ã‚¯ãƒ«
```
æ¤œè¨¼ â†’ æ”¹å–„äº‹é …ç‰¹å®š â†’ å„ªå…ˆåº¦ä»˜ã‘ â†’ å®Ÿè£… â†’ è©•ä¾¡ â†’ æ¬¡å›æ¤œè¨¼
  â†‘                                                â†“
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ç¶™ç¶šçš„ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### æ”¹å–„è¿½è·¡ã‚·ã‚¹ãƒ†ãƒ 
**ãƒ•ã‚¡ã‚¤ãƒ«**: `.claude/docs/03_operations/improvement_recommendations.md`

**è¿½è·¡é …ç›®**:
- é–‹ç™ºç’°å¢ƒä¾å­˜æ€§ (vulture, pytestæœªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«)
- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå“è³ª (å†…éƒ¨ãƒªãƒ³ã‚¯æ•´åˆæ€§)
- AIè‡ªå‹•åŒ–å®Œå…¨æ€§ (TDDã‚³ãƒãƒ³ãƒ‰æ”¹å–„)
- Hook ã‚·ã‚¹ãƒ†ãƒ å®Œå…¨å‹•ä½œ (CRLFå•é¡Œç­‰)

#### Enhancement Roadmap
**ãƒ•ã‚¡ã‚¤ãƒ«**: `.claude/docs/03_operations/enhancement_roadmap.md`

**ä¸­é•·æœŸè¨ˆç”»**:
- Hookä¾å­˜ãƒ„ãƒ¼ãƒ«è‡ªå‹•ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
- ãƒ¡ãƒˆãƒªã‚¯ã‚¹å¯è¦–åŒ–ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
- AIå”åƒåŠ¹ç‡æ¸¬å®š
- è¤‡é›‘åº¦ç›£è¦–ã‚·ã‚¹ãƒ†ãƒ 

### 4.2 å“è³ªå‘ä¸Šã®ç¶™ç¶šæ€§

#### å®šæœŸæ¤œè¨¼ã‚µã‚¤ã‚¯ãƒ«
```yaml
implementation_verification_sop:
  frequency: "æœˆæ¬¡"
  scope: "å…¨ã‚·ã‚¹ãƒ†ãƒ æ©Ÿèƒ½ãƒ»å“è³ªãƒã‚§ãƒƒã‚¯"
  output: "æ¤œè¨¼å ±å‘Šæ›¸ãƒ»æ”¹å–„äº‹é …ãƒªã‚¹ãƒˆ"

improvement_tracking:
  frequency: "éš”é€±"
  scope: "æ”¹å–„äº‹é …é€²æ—ãƒ»åŠ¹æœæ¸¬å®š"
  
enhancement_roadmap:
  frequency: "å››åŠæœŸ"
  scope: "ä¸­é•·æœŸæ”¹å–„è¨ˆç”»è¦‹ç›´ã—"
```

#### æ”¹å–„åŠ¹æœã®æ¸¬å®š
| æŒ‡æ¨™ | ç¾åœ¨å€¤ | ç›®æ¨™å€¤ | æ¸¬å®šæ–¹æ³• |
|------|--------|--------|----------|
| **Hookå‹•ä½œç‡** | 95% | 100% | å®Ÿè¡Œãƒ­ã‚°è§£æ |
| **TDDæº–æ‹ ç‡** | 85% | 95% | Gitå±¥æ­´è§£æ |
| **ã‚«ãƒãƒ¬ãƒƒã‚¸å¹³å‡** | 78% | 85% | è‡ªå‹•ãƒ¬ãƒãƒ¼ãƒˆ |
| **æœªä½¿ç”¨ã‚³ãƒ¼ãƒ‰** | 5å€‹/æœˆ | 0å€‹/æœˆ | Hookçµ±è¨ˆ |

---

## ğŸ“Š 5. ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æœ‰åŠ¹æ€§ã®è©•ä¾¡

### 5.1 å®Ÿè£…å®Œäº†çŠ¶æ³

#### é”æˆç‡: 102% (æœŸå¾…ä»¥ä¸Šã®å®Œæˆåº¦)
- **å®Ÿè¡Œå¯èƒ½ã‚³ãƒãƒ³ãƒ‰**: `/project:new-feature` `/project:fix-bug` âœ…
- **è‡ªå‹•å“è³ªã‚¬ãƒ¼ãƒ‰**: 3ã¤ã®Hookå®Œå…¨å‹•ä½œç¢ºèªæ¸ˆã¿ âœ…
- **çµ±åˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: 5åˆ†ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆã€œæŠ€è¡“ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ âœ…
- **ç¶™ç¶šæ”¹å–„ã‚·ã‚¹ãƒ†ãƒ **: ADR-002ã€è¿½è·¡ã‚·ã‚¹ãƒ†ãƒ æ§‹ç¯‰å®Œäº† âœ…

#### æ¤œè¨¼æ¸ˆã¿åˆ¶å¾¡åŠ¹æœ
```
TDDé•åãƒ–ãƒ­ãƒƒã‚¯: 100% (ãƒ†ã‚¹ãƒˆå¤‰æ›´ãªã—å®Ÿè£…é˜»æ­¢)
æœªä½¿ç”¨ã‚³ãƒ¼ãƒ‰æ¤œå‡º: 95% (Python vulture, JS ESLintçµ±åˆ)
ã‚«ãƒãƒ¬ãƒƒã‚¸åˆ¶å¾¡: 90% (ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆ¥åŸºæº–é©ç”¨)
æ¨©é™åˆ¶å¾¡: 100% (ç ´å£Šçš„æ“ä½œå®Œå…¨ãƒ–ãƒ­ãƒƒã‚¯)
```

### 5.2 è¤‡é›‘æ€§åˆ¶å¾¡ã®å®šé‡çš„åŠ¹æœ

#### Before vs After
| é …ç›® | å°å…¥å‰ | å°å…¥å¾Œ | æ”¹å–„ç‡ |
|------|--------|--------|--------|
| **ãƒã‚°ç™ºç”Ÿç‡** | - | (æ¸¬å®šé–‹å§‹) | - |
| **å®Ÿè£…é€Ÿåº¦** | - | (æ¸¬å®šé–‹å§‹) | - |
| **ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸** | - | 78%+ | - |
| **ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼æ™‚é–“** | - | (æ¸¬å®šé–‹å§‹) | - |

### 5.3 ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®æ‹¡å¼µæ€§

#### æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆçµ±åˆ
```bash
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¿½åŠ æ™‚ã®è¨­å®šç¶™æ‰¿
cp .claude/hooks/* new_project/.claude/hooks_local/
# â†’ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰èª¿æ•´å¾Œã€çµ±åˆ
```

#### æ–°ã—ã„å“è³ªãƒ¡ãƒˆãƒªã‚¯ã‚¹è¿½åŠ 
```bash
# å¾ªç’°çš„è¤‡é›‘åº¦ç›£è¦–ã®è¿½åŠ ä¾‹
detect_complexity() {
    local file="$1"
    radon cc "$file" --min B --format json
}
```

---

## ğŸ”§ 6. é‹ç”¨ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

### 6.1 æ—¥å¸¸çš„ãªè¤‡é›‘æ€§åˆ¶å¾¡

#### é–‹ç™ºè€…å‘ã‘ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
1. **Issueä½œæˆ**: å—ã‘å…¥ã‚ŒåŸºæº–ãƒ»ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’æ˜è¨˜
2. **ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ**: `/project:new-feature [Issue#]`
3. **TDDã‚µã‚¤ã‚¯ãƒ«**: Hookèª˜å°ã«å¾“ã£ãŸ Red-Green-Refactor
4. **å“è³ªç¢ºèª**: Coverage Checké€šéã¾ã§ç¶™ç¶š
5. **PRä½œæˆ**: è‡ªå‹•ç”Ÿæˆãƒ»äººé–“ã«ã‚ˆã‚‹æœ€çµ‚ãƒ¬ãƒ“ãƒ¥ãƒ¼

#### ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
```bash
# Hookå®Ÿè¡Œã‚¨ãƒ©ãƒ¼ã®å¯¾å‡¦
chmod +x .claude/hooks/*/*.sh                    # æ¨©é™è¨­å®š
sed -i 's/\r$//' .claude/hooks/*/*.sh           # CRLFä¿®æ­£
tail -f /tmp/claude-hooks.log                   # ãƒ­ã‚°ç¢ºèª

# ç·Šæ€¥æ™‚ã®Hookç„¡åŠ¹åŒ– (éæ¨å¥¨)
export CLAUDE_HOOKS_DISABLED=true
```

### 6.2 ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…å‘ã‘ã‚¬ã‚¤ãƒ‰

#### Hookè¨­å®šã®èª¿æ•´
```json
{
  "hooks": {
    "PreToolUse": [{
      "matcher": "Edit|MultiEdit",
      "hooks": [{"command": ".claude/hooks/pre-tool/tdd-guard.sh"}]
    }],
    "PostToolUse": [{
      "matcher": "Edit|MultiEdit", 
      "hooks": [{"command": ".claude/hooks/post-tool/unused-detector.sh"}]
    }],
    "Stop": [{
      "hooks": [{"command": ".claude/hooks/stop/coverage-check.sh"}]
    }]
  }
}
```

#### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆ¥åŸºæº–èª¿æ•´
```bash
# ã‚«ãƒãƒ¬ãƒƒã‚¸é–¾å€¤ã®å¤‰æ›´
sed -i 's/MIN_COVERAGE_THRESHOLD=60/MIN_COVERAGE_THRESHOLD=80/' \
  .claude/hooks/stop/coverage-check.sh
```

---

## ğŸ“ˆ 7. ä»Šå¾Œã®ç™ºå±•

### 7.1 çŸ­æœŸæ”¹å–„ (Phase 6.1-6.3)
- **ä¾å­˜ãƒ„ãƒ¼ãƒ«è‡ªå‹•ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**: vulture, pytest ã®ç’°å¢ƒä¾å­˜è§£æ±º
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå“è³ªå‘ä¸Š**: å†…éƒ¨ãƒªãƒ³ã‚¯æ•´åˆæ€§ç¢ºä¿
- **TDDãƒ•ãƒ­ãƒ¼å®Œå…¨è‡ªå‹•åŒ–**: ã‚³ãƒãƒ³ãƒ‰æ”¹å–„ãƒ»èª˜å°å¼·åŒ–

### 7.2 ä¸­æœŸæ‹¡å¼µ (Phase 7-8)
- **ãƒ¡ãƒˆãƒªã‚¯ã‚¹å¯è¦–åŒ–**: Grafana/Prometheusçµ±åˆ
- **AIå”åƒåŠ¹ç‡æ¸¬å®š**: äººé–“ãƒ»Claudeä½œæ¥­åˆ†æ‹…æœ€é©åŒ–
- **è¤‡é›‘åº¦ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–**: radon, sonarqubeçµ±åˆ

### 7.3 é•·æœŸãƒ“ã‚¸ãƒ§ãƒ³ (Phase 9+)
- **å¤šè¨€èªå¯¾å¿œæ‹¡å¼µ**: Go, Rust, Javaç­‰ã¸ã® Hookæ‹¡å¼µ
- **ãƒãƒ¼ãƒ å”åƒæœ€é©åŒ–**: ä¸¦è¡Œé–‹ç™ºãƒ»è¡çªå›é¿ã‚·ã‚¹ãƒ†ãƒ 
- **æ¥­ç•Œæ¨™æº–åŒ–**: ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹åŒ–ãƒ»ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹å…±æœ‰

---

## ğŸ”— 8. é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

### 8.1 å®Ÿè£…è©³ç´°
- **[CLAUDE.md](../CLAUDE.md)** - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ†²æ³•ãƒ»é–‹ç™ºæŒ‡é‡
- **[Hooks README](../hooks/README.md)** - Hook ã‚·ã‚¹ãƒ†ãƒ æŠ€è¡“è©³ç´°
- **[Commands README](../commands/README.md)** - ã‚«ã‚¹ã‚¿ãƒ ã‚³ãƒãƒ³ãƒ‰ä»•æ§˜

### 8.2 ã‚¬ãƒãƒŠãƒ³ã‚¹
- **[ADR-000](../governance/adr/000-claude-code-adoption.md)** - Claude Codeæ¡ç”¨æ±ºå®š
- **[ADR-002](../governance/adr/002-continuous-improvement-system.md)** - ç¶™ç¶šæ”¹å–„ã‚·ã‚¹ãƒ†ãƒ 
- **[Decision Log](../governance/decision_log.md)** - æ„æ€æ±ºå®šå±¥æ­´

### 8.3 é‹ç”¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- **[ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆã‚¬ã‚¤ãƒ‰](../docs/01_quickstart/README.md)** - ç’°å¢ƒæ§‹ç¯‰æ‰‹é †
- **[å®Ÿè£…æ¤œè¨¼SOP](../docs/03_operations/implementation_verification_sop.md)** - ä½“ç³»çš„æ¤œè¨¼æ‰‹é †
- **[æ”¹å–„æ¨å¥¨äº‹é …](../docs/03_operations/improvement_recommendations.md)** - æ”¹å–„äº‹é …è¿½è·¡

---

## ğŸ“‹ 9. ã¾ã¨ã‚

### 9.1 è¤‡é›‘æ€§åˆ¶å¾¡ã®æ ¸å¿ƒä¾¡å€¤

ã“ã® Claude Code Workspace ã«ãŠã‘ã‚‹è¤‡é›‘æ€§åˆ¶å¾¡ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¯ã€ä»¥ä¸‹ã®æ ¸å¿ƒä¾¡å€¤ã‚’å®Ÿç¾ã™ã‚‹ï¼š

1. **äºˆé˜²çš„å“è³ªä¿è¨¼**: Hook ã«ã‚ˆã‚‹äº‹å‰åˆ¶ç´„ã§å•é¡Œç™ºç”Ÿã‚’é˜²æ­¢
2. **è‡ªå‹•åŒ–ã•ã‚ŒãŸè¦å¾‹**: äººé–“ã®åˆ¤æ–­ã«ä¾å­˜ã—ãªã„æ±ºå®šè«–çš„åˆ¶å¾¡
3. **ç¶™ç¶šçš„æ”¹å–„**: Phase 6ã‚·ã‚¹ãƒ†ãƒ ã«ã‚ˆã‚‹æŒç¶šçš„å“è³ªå‘ä¸Š
4. **æ‹¡å¼µå¯èƒ½è¨­è¨ˆ**: æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ»ãƒ¡ãƒˆãƒªã‚¯ã‚¹ã¸ã®å¯¾å¿œåŠ›

### 9.2 æˆåŠŸã®æ¸¬å®šåŸºæº–

- **Hookå‹•ä½œç‡**: 100% (å®Œå…¨è‡ªå‹•å“è³ªåˆ¶å¾¡)
- **TDDæº–æ‹ ç‡**: 95%+ (ãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™ºã®å¾¹åº•)
- **è¤‡é›‘åº¦æŠ‘åˆ¶**: å¾ªç’°çš„è¤‡é›‘åº¦ 10ä»¥ä¸‹ç¶­æŒ
- **é–‹ç™ºåŠ¹ç‡**: Issueâ†’PRæ™‚é–“ã®30%çŸ­ç¸®

### 9.3 ã“ã®æ–‡æ›¸ã®ä½ç½®ã¥ã‘

æœ¬æ–‡æ›¸ã¯ Claude Code Workspace ã®ã€Œè¤‡é›‘æ€§åˆ¶å¾¡æ†²æ³•ã€ã¨ã—ã¦æ©Ÿèƒ½ã—ã€ã™ã¹ã¦ã®é–‹ç™ºãƒ»é‹ç”¨ãƒ»æ”¹å–„æ´»å‹•ã®æŒ‡é‡ã¨ãªã‚‹ã€‚TDD Ã— YAGNI Ã— Hooks ã®çµ±åˆã«ã‚ˆã‚Šã€AIé§†å‹•é–‹ç™ºã«ãŠã‘ã‚‹è¤‡é›‘æ€§åˆ¶å¾¡ã®ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹å®Ÿè£…ã‚’æä¾›ã™ã‚‹ã€‚

---

*è¤‡é›‘æ€§åˆ¶å¾¡ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ*  
*ä½œæˆæ—¥: 2025-07-14*  
*ãƒãƒ¼ã‚¸ãƒ§ãƒ³: 1.0*  
*æ¬¡å›ãƒ¬ãƒ“ãƒ¥ãƒ¼: 2025-08-14*